$('#subheader').replaceWith("<%= escape_javascript(render :partial => 'subheader', :locals => {:remote => true}) %>")
var new_topics = $("<%= escape_javascript(render :partial => 'topics') %>");
new_topics.hide();

if ($('#topics').data('direction') == 'left') {
  $('#topics').hide('slide', {'direction' : 'right'}, function() {
    $(this).replaceWith(new_topics);
    new_topics.show('slide', {'direction' : 'left'})
  })
} else if ($('#topics').data('direction') == 'right') {
  $('#topics').hide('slide', {'direction' : 'left'}, function() {
    $(this).replaceWith(new_topics);
    new_topics.show('slide', {'direction' : 'right'})
  })
} else {
  $('#topics').fadeOut(function() {
    $(this).replaceWith(new_topics);
    new_topics.fadeIn()
  })
}

$('#recent-tags').replaceWith("<%= escape_javascript(render :partial => 'topics/sidebar/recent_tags') %>")
$('#current-tag').remove()
<% if params[:action] == 'tagged' and current_logined? %>
  $('#recent-tags').before("<%= escape_javascript(render :partial => 'topics/sidebar/current_tag') %>")
<% end %>
document.title = "<%= escape_javascript(page_title) %>"
if (history && history.pushState) {
  history.pushState(null, document.title, "<%= url_for :page => params[:page] %>");
}
